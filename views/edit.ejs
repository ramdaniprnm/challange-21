<%- include('partials/header.ejs') %>

    <div class="card">
        <div class="card-header text-center">
            <h2>Updating Data</h2>
        </div>
        <div class="card-body">
            <form action="/todos/edit/<%= item.id%>" method="post">
                <div class="row mb-3">
                    <label for="title" class="col-sm-2 col-form-label">Title</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="title" name="title" value="<%= item.title %>">
                    </div>
                </div>
                <div class="form-group row align-items-center mb-3">
                    <label for="deadline" class="col-sm-2 col-form-label">Deadline</label>
                    <div class="col-sm-10">
                        <% const date=new Date(item.deadline); const year=date.getFullYear(); const
                            month=String(date.getMonth() + 1).padStart(2, '0' ); const
                            day=String(date.getDate()).padStart(2, '0' ); const
                            hours=String(date.getHours()).padStart(2, '0' ); const
                            minutes=String(date.getMinutes()).padStart(2, '0' ); const
                            formattedDate=`${year}-${month}-${day}T${hours}:${minutes}`; %>
                            <input type="datetime-local" class="form-control" name="deadline" id="deadline"
                                value="<%= formattedDate  %>">
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="complete" class="col-sm-2 col-form-label">complete</label>
                    <div class="col-sm-10">
                        <div class="form-check">
                            <label class="form-check-label" for="complete">
                                <input class="form-check-input" type="checkbox" value="true" id="complete"
                                    name="complete" <%=item.complete ? 'checked' : '' %>>
                                Done
                            </label>
                        </div>
                    </div>
                </div>
        </div>
        <div class="card-footer">
            <button type="submit" class="btn btn-primary"><i class="fa-solid fa-floppy-disk"></i></button>
            <a href="/todos" class="btn btn-warning"><i class="fa-solid fa-rotate-left"></i></a>
            </form>
        </div>
    </div>
    </div>
    <%- include('partials/footer.ejs') %>